<!DOCTYPE html>

<!--
  Google HTML5 slide template

  Authors: Luke Mahé (code)
           Marcin Wichary (code and design)
           
           Dominic Mazzoni (browser compatibility)
           Charles Chen (ChromeVox support)

  URL: http://code.google.com/p/html5slides/
-->

<html>
  <head>
    <title>Responsible jQuery</title>

    <meta charset='utf-8'>
    <script
      src='slides.js'></script>
  </head>
  
  <style>
    /* Your individual styles here, or just use inline styles if that’s
       what you want. */
    
    
  </style>

  <body style='display: none'>

    <section class='slides layout-regular template-default'>
      
      <!-- Your slides (<article>s) go here. Delete or comment out the
           slides below. -->
        
        
      
      <article class='biglogo'>
      </article>

      <article>
        <h1>Responsible jQuery</h1>
        <p>
          adam j. sontag
          <br>
          February 5, 2013
        </p>
      </article>
      
      <article>
        <q>Take it from me, jQuery is truly the greatest thing since sliced bread!</q>
        <div class='author'>
          Big Fan of Sandwiches
        </div>
      </article>

      <article>
      <q>Why, I'd rather change my name to <em>Quay Jeery</em> than use <em>jQuery!</em></q>
        <div class='author'>
          Holder of Strong Opinions
        </div>
      </article>

      <article>
        <h3>Big Fan of Sandwiches:</h3>
        <ul class="build">
          <li>jQuery "changed the way" I write JavaScript</li>
          <li>Obscured away the "hard parts" of problems
            <ul>
              <li>DOM Traversal &amp; Manipulation</li>
              <li>Events</li>
              <li>AJAX</li>
            </ul>
          </li>
          <li>Able to move away from a bunch of named global functions and `onclick=` to writing unobtrusive apps</li>
        </ul>
      </article>

      <article>
        <h3>Holder of Strong Opinions:</h3>
        <ul>
          <li>"Unobtrusive? Not on my eyes!"</li>
          <li>Hard to maintain</li>
          <li>Difficult to talk about</li>
          <li>Disorganized</li>
          <li>Slow</li>
          <li>Monolithic</li>
        </ul>
      </article>

      <article class='fill'>
        <h3>jQuery is not an elixir!</h3>
        <p>
          <img src='images/elixir.jpg'>
        </p>
        <div class='source white'>
          Source: <a href="http://untcomdes.blogspot.com/2010/08/esther-aarts-illustration-pushing-her.html">Esther Aarts</a>
        </div>
      </article>

      <article>
        <h2>
          But &hellip;
        </h2>
      </article>

      <article class='fill'>
        <h3>jQuery is not the enemy!</h3>
        <p>
          <img src='images/fencing.jpg'>
        </p>
        <div class='source white'>
          Source: <a href="http://www.puckandmary.com/blog_puck/2011/06/spanish-fencing-the-atajo/">A Midsummer Night's Blog</a>
        </div>
      </article>

      <article class='fill'>
        <h3>jQuery is just a tool!</h3>
        <p>
          <img src='images/paulyd.jpg' width="900" style="top:-55px;">
        </p>
        <div class='source white'>
          Source: <a href="http://soundtrack.mtv.com/post/music-from-the-pauly-d-project-season-premiere/">The Pauly D Project</a>
        </div>
      </article>

      <article class='fill'>
        <h3>Building a web app is kind of like building a house</h3>
        <img src='images/buildinghouse.jpg' width="900" style="top:-377px;">
        <ul class="teal" >
          <li>You have to use many different tools</li>
          <li>You have to build the foundation <em>before</em> you start wiring</li>
        </ul>
        <div class='source white'>
          Source: <a href="http://www.amazon.com/Building-Our-House-Jonathan-Bean/dp/0374380236">Building Our House</a>
        </div>
      </article>

      <article class='fill'>
        <h3>jQuery is a multitool</h3>
        <img src='images/knife-leatherman-wave.jpg' width="900">
        <ul class="build">
          <li>Useful, versatile for all skill levels</li>
          <li>Sometimes it <em>does the entire task</em></li>
          <li>Other times, it <em>helps you work the other tools better</em></li>
          <li><strong>You can't build an entire house with it!</strong></li>
          <li>Well, you <em>can</em>, but it would be unsafe and you wouldn't want to live in it!</li>

        </ul>
        <div class='source white'>
          Source: <a href="http://www.amazon.com/Building-Our-House-Jonathan-Bean/dp/0374380236">Building Our House</a>
        </div>
      </article>

      <article>
        <h2>
          jQuery is just a global constructor with a bunch of handy static methods attached
        </h2>
      </article>

      <article>
        <h3>
          jQuery Objects
        </h3>
        <section>
        <pre>
$("div"); // Looks like a 'magic invocation'
jQuery("div"); // Looks like a good ol' function call
new jQuery("div"); // What's 'actually happening'
</pre>
        <p>In all cases, you get back a <a href="http://learn.jquery.com/using-jquery-core/jquery-object/">jQuery object</a>, an array-like structure
        that's like much <em>sugarier</em> version of a DOM <a href="https://developer.mozilla.org/en-US/docs/DOM/NodeList">NodeList</a>.</p>
        </section>
      </article>

      <article>
        <h3>
          All for one, one for all
        </h3>
        <p>jQuery unifies the experience of:</p>
        <ul>
          <li>Working with exactly 1 element as many elements</li>
          <li>Working <em>new</em> elements the same as <em>old</em> elements</li>
        </ul>
        <pre>
// Next element sibling of one element with an ID
$("#onlyOne").next();

// Next element sibling of all elements with a class
$(".lots").next();

// A brand new element
$(&quot;&lt;div&gt;Hello World&lt;/div&gt;&quot;);
</pre>
        <p>Each of these returns an object with the <strong>same exact interface</strong></p>
      </article>

      <article>
        <q>Think of jQuery objects as a basic building block of your application</q>
        <div class="author">Me</div>
      </article>

      
      <article class='fill smaller'>
        <h3>A note on DRY</h3>
        <img src="images/towel.jpg">
        <q>
          It's not just about avoiding writing <strong>duplicative
            code</strong>, it's about not <strong>repeating unnecessary
            actions</strong>. (And <code>jQuery()</code> is an
          <strong>action</strong>!)
        </q>
      </article>
      
      <article class="nobackground">
        <h3>Don't construct things you don't plan to use</h3>
        <p>It would be fairly strange to encounter something like the following:</p>
        <pre>
JSON.parse( str );
// or
new RegExp( "^"+str, "ig" );
// or
isNaN( "blarg" );
</pre>
        <p>because when you create things in JavaScript, you typically use a variable so you can <em>actually use them later.</em></p>
        <pre>
var myObj = JSON.parse( str );
// or
var rDynamic = new RegExp( "^"+str, "ig" );
// or
var valid = !isNaN( "blarg" );
</pre>
      </article>
      
      <article class='nobackground'>
        <h3>
          When it comes to jQuery, people seem to forget this
        </h3>
        
        <a class="jsbin-embed" href="http://jsbin.com/uzitut/2/embed?javascript">JS Bin</a><script src="http://static.jsbin.com/js/embed.js"></script>
      </article>

      <article class="smaller nobackground">
        <h3>Always™ Cache Your jQuery Selections</h3>
        <p>
          All you're doing is calling a function with a useful return value &hellip; use it!
        </p>
        <pre>
var $articles = $("article");
// In fact, because most jQuery methods return a jQuery object, this works as well
var $articles = $("article").click( fn );

// Once you have one collection, use it as the basis for other queries
var $img = $articles.find("img");
</pre>
        <p>Don't repeat actions, even if they are "cheap"</p>
        <pre>
// Bad
$("a").click(function(e) {
  $(this).addClass("active");
  $(this).parent().siblings().find("a").removeClass("active");
  var o = $(this).offset();
});

// Better
$("a").click(function(e) {
  var $t = $(this),
      o = $t.offset();
  $t.addClass("active");
  $t.parent().siblings().find("a").removeClass("active");
});
</pre>
      </article>

      <article class='nobackground'>
        <a class="jsbin-embed" href="http://jsbin.com/uzitut/5/embed?javascript">JS Bin</a><script src="http://static.jsbin.com/js/embed.js"></script>
      </article>

      <article>
        <h3>
          Where Can I Save jQuery Objects
        </h3>
        <p>
          As variables:
        </p>
        <pre>
var $friends = $(".friend");
</pre>
        <p>As properties of objects:</p>
        <pre>
var catApp = {
  $cats: $(".cat"),
  init: function() {
    this.$cats.click( catClicked )
  },
  catClicked: function(e) {
    alert("'Meow', said " + $(e.target).data("name") );
  }
};
</pre>
      </article>

      <article>
        <h2>
          Caching selectors can make your app faster, but more importantly,
          it makes it better organized and easier to talk about!
        </h2>
      </article>

      <article>
        <q>jQuery is JavaScript, but so is JavaScript</q>
        <div class="author">
          Me
        </div>
      </article>

      <article>
        <h3>
          Hey, who you callin' an idiom?
        </h3>
        <section>
        <ul>
          <li>There are often <em>idiomatic</em> patterns for common jQuery use cases</li>
          <li>However, there are also native JS or DOM solutions as well</li>
          <li>Don't use jQuery for <strong>everything</strong> just because it's <strong>there</strong></li>
        </ul>
        <pre>
$("a").click(function(e) {
  // Bad
  var id = $(this).attr("id");

  // Good
  var id = this.id;
});
</pre>
        <p><strong>Don't waste time looking for "The jQuery Equivalent" of <code>Math.round</code>, <code>parseInt</code>, etc.</strong> &mdash; you've already found it.</p>
        </section>
      </article>
      
      <article class="fill">
        <h3>Getting Organized</h3>
        <img src="images/pantry.jpg">
        <div class="source">
          Source: <a href="http://www.countryliving.com/homes/how-to-get-the-look/kitchen-storage-organization-ideas">Country Living</a>
        </div>
      </article>

      <article>
        <h2>Keeping your code organized by using well-named objects, short functions, and jQuery collections is the single best "best practice" I can share with you today</h2>
      </article>

      <article class="fill">
        <img src="images/cyoa.jpg">
        <p style="bottom: 100px; position: absolute; left: 0; margin: 0 40px; ">
          The stereotypical "jQuery Application" with lots of anonymous functions, "anonymous" collections, and a heavy dependence on selectors can quickly
          devolve into a <strong>Choose Your Own Adventure Story About The DOM</strong> with no beginning, middle, or end.
        </p>
      </article>
      
      <article>
        <h2>The DOM is not your application, it is the visible manifestation of your application.</h2>
      </article>

      <article>
        <h2>Put up the walls of your house before you try to paint them.</h2>
      </article>
      
      <article>
        <h3>More than words: A simple request wrapper</h3>
        <ul class="build">
          <li><code>jQuery.ajax</code> makes Ajax approachable and dead-simple to implement</li>
          <li>In a larger app, many of your Ajax requests have the same characteristics</li>
          <li>How can you DRY up those shared characteristics and give yourself an "in" for configuring all your requests?</li>
          <li>jQuery provides things like <a href="http://api.jquery.com/jQuery.ajaxSetup/">ajaxSetup</a> as well as <a href="http://api.jquery.com/jQuery.ajaxPrefilter/">prefilters</a> and <a href="http://api.jquery.com/jQuery.ajaxTransports/">transports</a></li>
          <li>But these can leave jQuery <em>in charge</em></li>
          <li>&hellip;which would be fine if it was named Charles, but I digress&hellip;</li>
        </ul>
      </article>

      <article class="smaller">
        <h3>Who's the Boss? You!</h3>
        <pre>
var CATS = {
  serviceUrl: "http://eso.teric.api.com/path/morepath/",
  requestDefaults: {
    breed: "tabby",
    dataType: "jsonp",
    data: {
      token: "$up3r$3(r37"
    }
  },
  request: function( options ) {
    options = $.extend( true, {}, this.requestDefaults, options );
    options.url = this.serviceURL + options.breed;
    return $.ajax( options );
  }
}

CATS.request({
  breed: "siamese",
  fatness: "fat",
  success: function(data) {
    // Add the cats into a list in the DOM
  }
});
</pre>
      </article>

      <article class="smaller nobackground">
        <h3>I <code>.promise()</code>, I'm almost done!</h3>
        <p><code>jQuery.ajax</code> works like a <a href="http://api.jquery.com/category/deferred-object/">Deferred</a>, which means:</p>
        <ul>
          <li>Our service returns something useful (a <a href="http://api.jquery.com/deferred.promise/">promise</a>)</li>
          <li>We can have more than one callback, and it doesn't have to be attached at call time (late binding)</li>
          <li>We can easily group requests and pass them around</li>
        <pre>
// Add a logging function to all successful requests
CATS.requestDefaults.success = function(data) {
  console.log( "Cats Fetched Successfully:", data );
};
// Before jQuery 1.5, this would have been clobbered by our own callback
// But now we can attach our "consumer" callbacks later, and both will get called
CATS.request({breed: "siberian"}).done(function(data) {
  // Add the cats into a list in the DOM
});
// Or wait for multiple sets to finish
var r = CATS.request({breed: "ragamuffin"}),
    m = CATS.request({breed: "manx"}) );

$.when( r, m ).done(function(rags, manx) {
  // I have so many cats I don't know what to do with them
  // But probably putting them in a list in the DOM is a good idea
});
</pre>
      </article>
      <article>
        <h3>
          Thanks!
        </h3>
        <ul>
            <li><strong>adam j. sontag</strong></li>
            <li>adam dot sontag at jquery dot com</li>
            <li><a target="_blank" href="http://twitter.com/ajpiano">@ajpiano</a></li>
            <li>I'm ajpiano on the <a href="http://irc.jquery.org">#jquery channels on freenode IRC</a></li>
            <li><a target="_blank" href="http://bocoup.com/">Bocoup</a></li>
            <li><a target="_blank" href="http://ajpiano.com/">my blog</a></li>
        </ul>
      </article>

    </section>

  </body>
</html>
